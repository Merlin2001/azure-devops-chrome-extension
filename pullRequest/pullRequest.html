<div data-ng-if="$ctrl.isInitialized">
    <div class="menu-buttons">
        <div class="list-buttons">
            <div class="list-buttons__button">
                <button data-ng-show="$ctrl.minePullRequests.length > 0"
                    data-ng-class="{ selected: $ctrl.isMinePullRequests() }"
                    data-ng-click="$ctrl.fillMinePullRequests();">Mine ({{$ctrl.minePullRequests.length}})</button>
                <button data-ng-show="$ctrl.toApprovePullRequests.length > 0"
                    data-ng-class="{ selected: $ctrl.isToApprovePullRequests() }"
                    data-ng-click="$ctrl.fillToApprovePullRequests();">To Approve
                    ({{$ctrl.toApprovePullRequests.length}})</button>
                <button data-ng-show="$ctrl.pullRequests.length > 0"
                    data-ng-class="{ selected: $ctrl.isAllPullRequests()}" data-ng-click="$ctrl.fillPullRequests();">All
                    ({{$ctrl.pullRequests.length}})</button>
            </div>
            <div class="list-buttons__button">
                <div data-ng-click="$ctrl.toggleMode()">
                    <i class="fas fa-sun"></i>
                    <i class="far fa-moon"></i>
                </div>
                <button data-ng-click="$ctrl.toggleSettings();" class="settings-button"><i
                        class="fas fa-bars icons-status menu-icon"></i></button>
                <member></member>
            </div>
        </div>
    </div>
    <div>
        <div class="pullRequest" data-ng-show="!$ctrl.showSettings && pr.isVisible" data-ng-class="$ctrl.reviewClass(pr)"
            data-ng-repeat="pr in $ctrl.pullRequests | orderBy:$ctrl.valueOfDate">
            <div class="actions">
                <!-- <img data-ng-show="$ctrl.isMinePullRequests()" class="auto-complete" title="Build auto-complete" data-ng-class="{ 'disabled': !pr.autoCompleteSetBy }" data-ng-click="$ctrl.toggleAutoComplete($event, pr);" src="/img/auto-complete.png"/> -->
            </div>
            <div class="pullRequest-details" data-ng-click="$ctrl.redirect(pr);">
                <div class="creator">
                    <div class="card-container">
                        <span class="card draft" data-ng-class='::{"draft--visible" : pr.isDraft}'>DRAFT</span>
                        <span class="card fast" data-ng-class='::{"fast--visible" : pr.autoCompleteSetBy}'>
                            <span class="auto-complete"></span>
                            <span>AUTO</span>
                        </span>
                    </div>
                    <pull-request-creator data-creator="::pr.createdBy"></pull-request-creator>
                </div>
                <div class="details">
                    <div class="details-content">
                        <span class="repository" ng-bind="::pr.repository.name">:</span>
                        <div class="durationInfo" data-ng-bind="::$ctrl.durationToDisplay(pr)"></div>
                    </div>
                    <span class="prtitle" data-ng-bind="::pr.title"></span>
                    <div class="branchesInfo">{{::pr.sourceRefName.replace('refs/heads/', '')}} to
                        {{::pr.targetRefName.replace('refs/heads/', '')}}</div>
                    <pull-request-reviewers data-reviewers="::pr.reviewers"></pull-request-reviewers>
                </div>
                <div class="state-details">
                    <div data-ng-if="pr.evaluations.state !== 'none'" class="prstate state-{{pr.evaluations.state}}"
                        title="{{$ctrl.policiesDetails(pr.evaluations.policies)}}">
                        <i data-ng-if="pr.evaluations.state == 'warning'" class="fas fa-exclamation icons-status"></i>
                        <i data-ng-show="pr.evaluations.state == 'error'"
                            class="fas fa-skull-crossbones icons-status"></i>
                        <i data-ng-show="pr.evaluations.state == 'success'" class="fas fa-check icons-status"></i>
                    </div>
                    <span data-ng-if="::pr.comments.length" class="comments"><span
                            data-ng-bind="::pr.comments.length"></span>
                        <i class="far fa-comments"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="pr-settings" data-ng-show="$ctrl.showSettings">
        <div>
            <label for="pr-settings-enable-notifications">Activer les notifications</label>
            <input id="pr-settings-enable-notifications" type="checkbox" data-ng-change="::$ctrl.toggleNotifications();"
                data-ng-model="$ctrl.enableNotifications" />
        </div>
        <div>
            <button class="button--red" data-ng-click="::$ctrl.logout()">Logout</button>
        </div>
    </div>
</div>