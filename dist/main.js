!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=158)}({1:function(t,e,r){t.exports=r(144)},137:function(t,e){t.exports='<div data-ng-if="!$ctrl.isInitialize" class="settings">\n    <div>\n        <div class="title">Domain VSTS</div>\n        <span>http(s)://dev.azure.com/</span>\n        <input type="text" data-ng-keypress="$ctrl.keyPress($event)" name="name" data-ng-model="$ctrl.name" placeholder="my domain"/>\n    </div>\n    <button data-ng-disabled="!$ctrl.canValidate()" type="button" data-ng-click="$ctrl.changeCredentials();">\n        <span>Login</span>\n    </button>\n    <span class="error" data-ng-show="$ctrl.hasError">Bad domain URL</span>\n</div>'},138:function(t,e){t.exports='<div class="reviewer-container">\n    <div\n        data-ng-repeat="reviewer in ::$ctrl.reviewers | filter:$ctrl.isReviewerToDisplay | orderBy: \'+reviewer.vote\'"\n        class="reviewer__image"\n        data-ng-style="::$ctrl.style(reviewer)"\n        data-ng-class="{\'reviewer__image--voted\': reviewer.vote > 0}"\n        title="{{::reviewer.displayName}}"\n    ></div>\n</div>'},139:function(t,e){t.exports='<div class="memberIcon" data-ng-style="::$ctrl.style()" title="{{::$ctrl.creator.displayName}}"></div>\n'},140:function(t,e){t.exports='<div data-ng-if="$ctrl.isInitialized">\n    <div class="menu-buttons">\n        <div class="list-buttons">\n            <div class="list-buttons__button">\n                <button data-ng-show="$ctrl.minePullRequests.length > 0" data-ng-class="{ selected: $ctrl.isMinePullRequests() }"\n                    data-ng-click="$ctrl.fillMinePullRequests();">Mine ({{$ctrl.minePullRequests.length}})</button>\n                <button data-ng-show="$ctrl.toApprovePullRequests.length > 0" data-ng-class="{ selected: $ctrl.isToApprovePullRequests() }"\n                    data-ng-click="$ctrl.fillToApprovePullRequests();">To Approve ({{$ctrl.toApprovePullRequests.length}})</button>\n                <button data-ng-show="$ctrl.pullRequests.length > 0" data-ng-class="{ selected: $ctrl.isAllPullRequests()}"\n                    data-ng-click="$ctrl.fillPullRequests();">All ({{$ctrl.pullRequests.length}})</button>\n            </div>\n            <div class="list-buttons__button">\n                <button data-ng-click="$ctrl.toggleSettings();" class="settings-button"></button>\n                <member></member>\n            </div>\n        </div>\n    </div>\n    <div>\n        <div class="pullRequest" data-ng-if="!$ctrl.showSettings && pr.isVisible" data-ng-class="$ctrl.reviewClass(pr)" data-ng-repeat="pr in $ctrl.pullRequests | orderBy:$ctrl.valueOfDate">\n            <div class="actions">\n                \x3c!-- <img data-ng-show="$ctrl.isMinePullRequests()" class="auto-complete" title="Build auto-complete" data-ng-class="{ \'disabled\': !pr.autoCompleteSetBy }" data-ng-click="$ctrl.toggleAutoComplete($event, pr);" src="/img/auto-complete.png"/> --\x3e\n            </div>\n            <div class="pullRequest-details" data-ng-click="$ctrl.redirect(pr);">\n                <pull-request-creator data-creator="::pr.createdBy"></pull-request-creator>\n                <div class="details">\n                    <div class="details-content">\n                        <span class="repository" ng-bind="::pr.repository.name">:</span>\n                        <span class="card draft" data-ng-class="::{\'draft--visible\': pr.isDraft}">DRAFT</span>\n                        <span class="card fast" data-ng-class="::{\'fast--visible\': pr.autoCompleteSetBy}">\n                            <span class="auto-complete"></span>\n                            <span>FAST</span>\n                        </span>\n                    </div>\n                    <span data-ng-bind="::pr.title"></span>\n                    <div class="branchesInfo">{{::pr.sourceRefName.replace(\'refs/heads/\', \'\')}} --&gt; {{::pr.targetRefName.replace(\'refs/heads/\', \'\')}}</div>\n                    <pull-request-reviewers data-reviewers="::pr.reviewers"></pull-request-reviewers>\n                    <div class="durationInfo" data-ng-bind="::$ctrl.durationToDisplay(pr)"></div>\n                </div>\n                <span data-ng-if="::pr.comments.length" class="comments"><span data-ng-bind="::pr.comments.length"></span><div class="comments__image"></div></span>\n                <span class="state state-{{pr.evaluations.state}}" title="{{$ctrl.policiesDetails(pr.evaluations.policies)}}"></span>\n            </div>\n        </div>\n    </div>\n    <div class="pr-settings" data-ng-show="$ctrl.showSettings">\n        <div>\n            <label for="pr-settings-enable-notifications">Activer les notifications</label>\n            <input id="pr-settings-enable-notifications" type="checkbox" data-ng-change="::$ctrl.toggleNotifications();" data-ng-model="$ctrl.enableNotifications"/>\n        </div>\n        <div>\n            <button class="button--red" data-ng-click="::$ctrl.logout()">Logout</button>\n        </div>\n    </div>\n</div>'},141:function(t,e){t.exports='<div class="waiting" data-ng-if="$ctrl.isLoading()">\n    <spinner></spinner>\n</div>\n<settings data-initialized="$ctrl.settingsInitialized(shouldInit)"></settings>\n<pull-request data-ng-if="$ctrl.settingsOk" data-initialized="$ctrl.prInitialized()"></pull-request>'},142:function(t,e){t.exports='<img class="currentMember" alt="me" data-ng-src="data:image/png;base64,{{memberCtrl.avatar.value}}" data-err-src="member/member-default.png"/>\n'},143:function(t,e){t.exports='<div class="spinner">\n    <div class="rect1"></div>\n    <div class="rect2"></div>\n    <div class="rect3"></div>\n    <div class="rect4"></div>\n    <div class="rect5"></div>\n</div>'},144:function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),o=new I(n||[]);return i._invoke=function(t,e,r){var n=l;return function(a,i){if(n===f)throw new Error("Generator is already running");if(n===d){if("throw"===a)throw i;return _()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=$(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=u(t,e,r);if("normal"===c.type){if(n=r.done?d:p,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(t,r,o),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",h={};function v(){}function m(){}function g(){}var y={};y[i]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(P([])));b&&b!==r&&n.call(b,i)&&(y=b);var x=g.prototype=v.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function O(t){var e;this._invoke=function(r,a){function i(){return new Promise((function(e,i){!function e(r,a,i,o){var s=u(t[r],t,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,i,o)}),(function(t){e("throw",t,i,o)})):Promise.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return e("throw",t,i,o)}))}o(s.arg)}(r,a,e,i)}))}return e=e?e.then(i,i):i()}}function $(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,$(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=u(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:_}}function _(){return{value:e,done:!0}}return m.prototype=x.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},S(O.prototype),O.prototype[o]=function(){return this},t.AsyncIterator=O,t.async=function(e,r,n,a){var i=new O(c(e,r,n,a));return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},145:function(t,e,r){},146:function(t,e,r){},147:function(t,e,r){},148:function(t,e,r){},149:function(t,e,r){},150:function(t,e,r){},151:function(t,e,r){},158:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),i=r(2),o=r.n(i),s=r(4),c=r.n(s),u=r(5),l=r.n(u),p={clientId:"D0A49FC8-2CBD-4A33-83AB-004846CD250E",clientSecret:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Im9PdmN6NU1fN3AtSGpJS2xGWHo5M3VfVjBabyJ9.eyJjaWQiOiJkMGE0OWZjOC0yY2JkLTRhMzMtODNhYi0wMDQ4NDZjZDI1MGUiLCJjc2kiOiJiZjg1YWNmMy1lODM2LTQyNDQtYTM2ZS0zNzUyMTkwMzc0MTkiLCJuYW1laWQiOiIxYjIyZGIxNS0wYTllLTQyNjItOTM4Yy1jNDBmZDdiOTQ1MTgiLCJpc3MiOiJhcHAudnN0b2tlbi52aXN1YWxzdHVkaW8uY29tIiwiYXVkIjoiYXBwLnZzdG9rZW4udmlzdWFsc3R1ZGlvLmNvbSIsIm5iZiI6MTU3MTEyOTQzNCwiZXhwIjoxNzI4OTgyMjM0fQ.26qq81ENYN61FzHHcatyCiJ7e4fYqJAo11kWitmZI8MgOPhTmjbvKHKQ7aFUSnLQpvpV6oydcQ2Fk5wkCCapdfIg1H70B2U9k0YVL8lh4sAyPH9w2E7sWvqiIMVoAdOEYQ_hMR6HqzEeW4d-pyGxewhfR4e3LnrJVJw0E6rZNn9E5KMKPJQAtJN7qDWdUbuHTpgyywyPV3170Uoh4tzMgDeHUHnCWpzZUUJvdEvOBrDMxPsqRQRprqz1WiTqiNXyyu3Pp11MfSvZTEbx1mV61maBa1FQWAGcAuc8AzmFhSxfnV5m6oMAbCJVzAeGoQbdlBDadukaTvrU_iVvfeGmoQ",scopes:["vso.code","vso.identity","vso.project","vso.graph"]},f=function(){var t={},e=new Promise((function(e,r){t.resolve=e,t.reject=r}));return e.catch((function(t){return console.error(t)})),t.promise=e,t},d="https://".concat(chrome.runtime.id,".chromiumapp.org/token"),h=null,v=function(){var t,e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!h){r.next=2;break}return r.abrupt("return",h.promise);case 2:return h=f(),t="https://app.vssps.visualstudio.com/oauth2/authorize\n        ?client_id=".concat(p.clientId,"\n        &response_type=Assertion\n        &state=token\n        &scope=").concat(p.scopes.join(" "),"\n        &redirect_uri=").concat(d),e=function(e){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){chrome.identity.launchWebAuthFlow({url:t,interactive:e},(function(t){if(t){var e=/.+code=([^&].*)/g.exec(t),a=c()(e,2)[1];r(m(a))}else n("web flow error")}))})));case 1:case"end":return r.stop()}}))},r.prev=5,r.t0=h,r.next=9,a.a.awrap(e());case 9:r.t1=r.sent,r.t0.resolve.call(r.t0,r.t1),r.next=20;break;case 13:return r.prev=13,r.t2=r.catch(5),r.t3=h,r.next=18,a.a.awrap(e(!0));case 18:r.t4=r.sent,r.t3.resolve.call(r.t3,r.t4);case 20:return r.abrupt("return",h.promise);case 21:case"end":return r.stop()}}),null,null,[[5,13]])},m=function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e="client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer&client_assertion=".concat(p.clientSecret,"&grant_type=urn:ietf:params:oauth:grant-type:jwt-bearer&assertion=").concat(t,"&redirect_uri=").concat(d),r.next=3,a.a.awrap(b(e));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},g=null,y=function(){var t,e,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!g){n.next=2;break}return n.abrupt("return",g.promise);case 2:return g=f(),t=w(),e=t.refresh_token,r="client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer&client_assertion=".concat(p.clientSecret,"&grant_type=refresh_token&assertion=").concat(e,"&redirect_uri=").concat(d),n.t0=g,n.next=8,a.a.awrap(b(r));case 8:return n.t1=n.sent,n.t0.resolve.call(n.t0,n.t1),n.abrupt("return",g.promise);case 11:case"end":return n.stop()}}))},w=function(){return JSON.parse(localStorage.getItem("oauthToken"))},b=function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return"https://app.vssps.visualstudio.com/oauth2/token",r.next=3,a.a.awrap(fetch("https://app.vssps.visualstudio.com/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t}).then((function(t){return t.json()})));case 3:return e=r.sent,x(e),r.abrupt("return",e);case 6:case"end":return r.stop()}}))},x=function(t){var e=t.access_token,r=t.refresh_token,n=t.expires_in,a={access_token:e,refresh_token:r,expires_date:moment().add(n-60,"seconds").format()};localStorage.setItem("oauthToken",JSON.stringify(a))},S=function(){var t;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=w())&&!t.Error&&t.access_token&&t.refresh_token){e.next=5;break}return e.next=4,a.a.awrap(v());case 4:return e.abrupt("return",e.sent);case 5:if(!moment(t.expires_date).isBefore(moment())){e.next=9;break}return e.next=8,a.a.awrap(y());case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}))};function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(r,!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k=function(t){var e,r,n,i,o,s;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e=t.url,r=t.params,n=l()(t,["url","params"]),i=new Headers,u.t0=i,u.t1="Bearer ",u.next=6,a.a.awrap(S());case 6:return u.t2=u.sent.access_token,u.t3=u.t1.concat.call(u.t1,u.t2),u.t0.append.call(u.t0,"Authorization",u.t3),o="".concat(e).concat(r?"?".concat(Object.entries(r).map((function(t){var e=c()(t,2),r=e[0],n=e[1];return"".concat(r,"=").concat(n)})).join("&")):""),u.t4=a.a,u.next=13,a.a.awrap(fetch(o,$({},n,{headers:i})));case 13:return u.t5=u.sent.json(),u.next=16,u.t4.awrap.call(u.t4,u.t5);case 16:return s=u.sent,u.abrupt("return",s);case 18:case"end":return u.stop()}}))},j=function(){return JSON.parse(localStorage.getItem("domain"))},I=function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j().url);case 1:case"end":return t.stop()}}))},P=function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j().domainUrl);case 1:case"end":return t.stop()}}))},_=function(){localStorage.removeItem("domain")},R={"api-version":"5.1-preview"},q=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(k({url:"https://vssps.dev.azure.com/axafrance/_apis/graph/descriptors/".concat(t),params:R}));case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}))};function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(r,!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var N={"api-version":"5.1-preview"},T=function(t){var e,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.id,n.next=3,a.a.awrap(q(e));case 3:return r=n.sent,n.next=6,a.a.awrap(k({url:"https://vssps.dev.azure.com/axafrance/_apis/graph/users/".concat(r),params:N}));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}))},L=function(t){var e,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.id,n.next=3,a.a.awrap(q(e));case 3:return r=n.sent,n.next=6,a.a.awrap(k({url:"https://vssps.dev.azure.com/axafrance/_apis/graph/Subjects/".concat(r,"/avatars"),params:N}));case 6:return n.abrupt("return",n.sent.value);case 7:case"end":return n.stop()}}))},z=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(T(t));case 2:return e.abrupt("return",e.sent.mailAddress);case 3:case"end":return e.stop()}}))},M=null,C=function(){var t;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=27;break}return M=f(),e.t0=a.a,e.t1=k,e.t2="https://vssps.dev.azure.com/",e.next=7,a.a.awrap(a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j().name);case 1:case"end":return t.stop()}})));case 7:return e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,"/_apis/profile/profiles/me"),e.t5=E({},N,{details:!0}),e.t6={url:e.t4,params:e.t5},e.t7=(0,e.t1)(e.t6),e.next=14,e.t0.awrap.call(e.t0,e.t7);case 14:return t=e.sent,e.prev=15,e.next=18,a.a.awrap(z(t));case 18:t.emailAddress=e.sent,e.next=23;break;case 21:e.prev=21,e.t8=e.catch(15);case 23:return e.next=25,a.a.awrap(B());case 25:t.teams=e.sent,M.resolve(t);case 27:return e.abrupt("return",M.promise);case 28:case"end":return e.stop()}}),null,null,[[15,21]])},B=function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a.a,t.t1=k,t.t2="",t.next=5,a.a.awrap(I());case 5:return t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3,"/teams"),t.t5=E({},N,{$mine:!0}),t.t6={url:t.t4,params:t.t5},t.t7=(0,t.t1)(t.t6),t.next=12,t.t0.awrap.call(t.t0,t.t7);case 12:return t.abrupt("return",t.sent.value);case 13:case"end":return t.stop()}}))};chrome.alarms||(chrome.alarms={create:function(){},onAlarm:{addListener:function(){}},onClicked:{addListener:function(){}},onDeleted:{addListener:function(){}}}),chrome.browserAction||(chrome.browserAction={setBadgeText:function(){},setBadgeBackgroundColor:function(){}}),chrome.notifications||(chrome.notifications={onClicked:{addListener:function(){}},onClosed:{addListener:function(){}}});var D=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return G.apply(void 0,["add"].concat(e))},J=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return G.apply(void 0,["delete"].concat(e))},G=function(t,e){var r=new Set(JSON.parse(localStorage.getItem("currentNotifications"))),n=r[t](e);return localStorage.setItem("currentNotifications",JSON.stringify(Array.from(r))),n},V=angular.module("vstsChrome",[]);V.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension):|data:image\//)}]).run(["vstsService",function(t){t.isInitialize().then((function(){var e,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(C());case 2:chrome.alarms.create("refresh",{when:Date.now(),periodInMinutes:2}),chrome.alarms.create("resetBranches",{delayInMinutes:1,periodInMinutes:60}),e={},"refs/heads/",r=function(t){var e=t.repositoryId,r=t.properties.sourceBranch.replace("refs/heads/",""),n=t.properties.targetBranch.replace("refs/heads/","");return"".concat(e,"|").concat(r,"|").concat(n)},chrome.alarms.onAlarm.addListener((function(n){var i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if("refresh"!==n.name){o.next=8;break}return o.next=3,a.a.awrap(C());case 3:if(!o.sent){o.next=6;break}i=JSON.parse(localStorage.getItem("settings"))||{},i.enableNotifications&&t.getSuggestionForUser().then((function(t){return t.filter((function(t){return t}))})).then((function(t){var n={iconUrl:chrome.runtime.getManifest().icons[128],type:"basic",title:"Create new Pull Request",requireInteraction:!0},a=[];t.forEach((function(t){if(!e[t.properties.sourceBranch]){var i=localStorage.getItem("notification"),o=!0,s=r(t);if(a.push(s),null!==i){var c=JSON.parse(i).closed;if(c){var u=c[s];if(u){var l=new Date,p=new Date(u);p.setDate(p.getDate()+1),p>l&&(o=!1)}}}if(o){var f=t.properties.sourceRepository.name,d=t.properties.sourceBranch.replace("refs/heads/",""),h=t.properties.targetBranch.replace("refs/heads/",""),v=Object.assign(n,{message:"".concat(f.toUpperCase(),"\n").concat(d," -> ").concat(h)});D(r(t))&&chrome.notifications.create(r(t),v,(function(r){e[r]=t}))}}}));var i=localStorage.getItem("notification");if(i){var o=JSON.parse(i);Object.keys(o.closed).forEach((function(t){a.includes(t)||delete o.closed[t]})),localStorage.setItem("notification",JSON.stringify(o))}}));case 6:o.next=9;break;case 8:"resetBranches"===n.name&&chrome.notifications.getAll((function(t){Object.keys(e).filter((function(e){return!t[e]})).forEach((function(t){return delete e[t]}))}));case 9:case"end":return o.stop()}}))})),chrome.notifications.onClicked.addListener((function(t){var n=e[t];if(n){var a=n.properties.sourceBranch.replace("refs/heads/",""),i=n.properties.targetBranch.replace("refs/heads/",""),o=r(n);J(o)&&chrome.tabs.create({url:"".concat(n.remoteUrl,"/pullrequestcreate?sourceRef=").concat(a,"&targetRef=").concat(i),active:!1},(function(){return chrome.notifications.clear(t)}))}})),chrome.notifications.onClosed.addListener((function(t,n){if(e[t]&&n){var a,i=localStorage.getItem("notification");a=null!==i?JSON.parse(i):{};var o=e[t],s=r(o);J(s);var c=a.closed;c||(c={},a.closed=c),c[s]=(new Date).getTime(),localStorage.setItem("notification",JSON.stringify(a))}}));case 10:case"end":return n.stop()}}))}))}]);var U=r(3),F=r.n(U),W=(r(145),r(137)),Q=r.n(W),Y=function t(e,r){var n=this;F()(this,t),o()(this,"hasError",!1),o()(this,"isInitialize",!0),o()(this,"$onInit",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(n.vstsService.isLoginInitialize());case 3:n.setInitialized(),t.next=12;break;case 6:t.prev=6,t.t0=t.catch(0),_(),n.setInitialized(!0),n.isInitialize=!1,n.$rootScope.$digest();case 12:case"end":return t.stop()}}),null,null,[[0,6]])})),o()(this,"_keys",{enter:13}),o()(this,"keyPress",(function(t){switch(t.which){case n._keys.enter:n.canValidate()&&n.changeCredentials()}})),o()(this,"canValidate",(function(){return n.name})),o()(this,"changeCredentials",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(n.vstsService.setCredentials({name:n.name}));case 2:return t.prev=2,t.next=5,a.a.awrap(n.vstsService.getProjects());case 5:n.hasError=!1,n.setInitialized(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n.hasError=!0;case 12:n.$rootScope.$digest();case 13:case"end":return t.stop()}}),null,null,[[2,9]])})),o()(this,"setInitialized",(function(t){n.initialized({shouldInit:t}),t||(n.isInitialize=!0)})),this.vstsService=e,this.$rootScope=r};Y.$inject=["vstsService","$rootScope"],o()(Y,"$inject",["vstsService","$rootScope"]),V.component("settings",{controller:Y,bindings:{initialized:"&",inProgress:"&"},template:Q.a});var Z=r(138),H=r.n(Z),X=(r(146),function t(e){var r=this;F()(this,t),o()(this,"$onInit",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.$timeout((function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(Promise.all(r.reviewers.map((function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(L(t));case 2:t.image=e.sent;case 3:case"end":return e.stop()}}))}))));case 2:case"end":return t.stop()}}))})));case 1:case"end":return t.stop()}}))})),o()(this,"style",(function(t){var e=t.image;return e&&{"background-image":'url("data:image/png;base64,'.concat(e,'")')}})),this.$timeout=e});X.$inject=["$timeout"],o()(X,"$inject",["$timeout"]),V.component("pullRequestReviewers",{controller:X,bindings:{reviewers:"<"},template:H.a});var K=r(139),tt=r.n(K),et=(r(147),function t(e){var r=this;F()(this,t),o()(this,"$onInit",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.$timeout((function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(L(r.creator));case 2:r.creator.image=t.sent;case 3:case"end":return t.stop()}}))})));case 1:case"end":return t.stop()}}))})),o()(this,"style",(function(){return r.creator.image&&{"background-image":'url("data:image/png;base64,'.concat(r.creator.image,'")')}})),this.$timeout=e});et.$inject=["$timeout"],o()(et,"$inject",["$timeout"]),V.component("pullRequestCreator",{controller:et,bindings:{creator:"<"},template:tt.a});r(148);var rt=r(140),nt=r.n(rt);V.directive("fallbackSrc",(function(){return{link:function(t,e,r){e.bind("error",(function(){angular.element(this).attr("src",r.fallbackSrc)}))}}}));var at=function t(e,r){var n=this;F()(this,t),o()(this,"_mine","mine"),o()(this,"_toApprove","toApprove"),o()(this,"_all","all"),o()(this,"$onInit",(function(){n.currentButton=n._toApprove;var t=n.getSettings().enableNotifications;n.enableNotifications=t,n.vstsService.isInitialize().then((function(){return n.getPullRequests()})).then((function(){return n.fillToApprovePullRequests()})).finally((function(){n.isInitialized=!0,n.initialized(),n.$rootScope.$digest()}))})),o()(this,"fillPullRequests",(function(){n.currentButton=n._all,n.showSettings=!1,n.pullRequests.forEach((function(t){t.isVisible=!0}))})),o()(this,"fillToApprovePullRequests",(function(){n.currentButton=n._toApprove,n.showSettings=!1;var t=n.toApprovePullRequests.map((function(t){return t.pullRequestId}));n.pullRequests.forEach((function(e){e.isVisible=t.includes(e.pullRequestId)}))})),o()(this,"withCurrentMemberVote",(function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(C());case 2:if(!(e=r.sent)){r.next=5;break}return r.abrupt("return",t.map((function(t){var r=t.reviewers.filter((function(t){return t.uniqueName===e.emailAddress}));return r.length>0&&(t.currentMemberVote=r[0].vote),t})));case 5:return r.abrupt("return",t);case 6:case"end":return r.stop()}}))})),o()(this,"reviewClass",(function(t){var e=t.currentMemberVote;return{"review-rejected":-10===e,"review-waiting":-5===e}})),o()(this,"fillMinePullRequests",(function(){n.currentButton=n._mine,n.showSettings=!1;var t=n.minePullRequests.map((function(t){return t.pullRequestId}));n.pullRequests.forEach((function(e){e.isVisible=t.includes(e.pullRequestId)}))})),o()(this,"isMinePullRequests",(function(){return n.currentButton===n._mine})),o()(this,"isToApprovePullRequests",(function(){return n.currentButton===n._toApprove})),o()(this,"isAllPullRequests",(function(){return n.currentButton===n._all})),o()(this,"redirect",(function(t){var e="".concat(t.repository.remoteUrl.replace(/(:\/\/)([^/]*@)/,"$1"),"/pullrequest/").concat(t.pullRequestId);chrome.tabs.create({url:e,active:!1})})),o()(this,"policiesDetails",(function(t){var e="";return t&&Object.keys(t).forEach((function(r){t.hasOwnProperty(r)&&(t[r]||(e+="".concat(r," -> ERROR \n")))})),e})),o()(this,"toggleSettings",(function(){n.showSettings=!n.showSettings})),o()(this,"toggleNotifications",(function(){n.storeSetting("enableNotifications",n.enableNotifications)})),o()(this,"storeSetting",(function(t,e){var r=n.getSettings();r[t]=e,localStorage.setItem("settings",JSON.stringify(r))})),o()(this,"getSettings",(function(){return JSON.parse(localStorage.getItem("settings"))||{}})),o()(this,"durationToDisplay",(function(t){var e=t.creationDate;return moment(e).fromNow()})),o()(this,"valueOfDate",(function(t){var e=t.creationDate;return moment(e).valueOf()})),o()(this,"isReviewerToDisplay",(function(t){return t.isRequired||t.vote>0})),o()(this,"getImageWithTodayStr",(function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.id,r.t0="data:image/png;base64,",r.next=4,a.a.awrap(L({id:e}));case 4:return r.t1=r.sent,r.abrupt("return",r.t0.concat.call(r.t0,r.t1));case 6:case"end":return r.stop()}}))})),o()(this,"getPullRequests",(function(){var t,e,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(n.vstsService.getPullRequests());case 2:return t=o.sent,e=t.all,r=t.toApprove,i=t.mine,o.next=8,a.a.awrap(n.withCurrentMemberVote(e));case 8:return n.pullRequests=o.sent,o.next=11,a.a.awrap(n.withCurrentMemberVote(r));case 11:return n.toApprovePullRequests=o.sent,o.next=14,a.a.awrap(n.withCurrentMemberVote(i));case 14:n.minePullRequests=o.sent;case 15:case"end":return o.stop()}}))})),o()(this,"logout",(function(){_(),localStorage.removeItem("oauthToken"),M=null,window.location.reload()})),this.vstsService=e,this.$rootScope=r};at.$inject=["vstsService","$rootScope"],o()(at,"$inject",["vstsService","$rootScope"]),V.component("pullRequest",{controller:at,bindings:{initialized:"&"},template:nt.a});r(149);var it=r(141),ot=r.n(it),st=function t(e){var r=this;F()(this,t),o()(this,"$onInit",(function(){})),o()(this,"settingsInitialized",(function(t){r.shouldInitSettings=t,t||(r.settingsOk=!0),r.$rootScope.$digest()})),o()(this,"prInitialized",(function(){r.prOk=!0})),o()(this,"isLoading",(function(){return!(r.shouldInitSettings||r.settingsOk&&r.prOk)})),this.$rootScope=e};st.$inject=["$rootScope"],V.component("app",{controller:st,template:ot.a});r(150);var ct=r(142),ut=r.n(ct),lt=function t(e){var r=this;F()(this,t),o()(this,"$onInit",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(C());case 2:r.currentMember=t.sent,r.avatar=r.currentMember.coreAttributes.Avatar.value,r.$rootScope.$digest();case 5:case"end":return t.stop()}}))})),this.$rootScope=e};lt.$inject=["$rootScope"],o()(lt,"$inject",["$rootScope"]),V.component("member",{bindings:{},controller:lt,controllerAs:"memberCtrl",template:ut.a});r(151);var pt=r(143),ft=r.n(pt);V.component("spinner",{template:ft.a});var dt=f(),ht=f(),vt=function(){return dt.promise},mt=function(){return ht.promise},gt=function(t){var e,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(C());case 2:return e=n.sent,r=[],t.length>0&&e&&(r=t.filter((function(t){if(t.reviewers&&t.createdBy.uniqueName!==e.emailAddress){var r=t.reviewers.filter((function(t){return e.teams.some((function(e){return e.id===t.id}))})),n=t.reviewers.filter((function(t){return t.uniqueName===e.emailAddress})),a=function(t){return t>0},i=n.filter((function(t){return a(t.vote)}));if(n.filter((function(t){return!a(t.vote)})).length>0||0===i.length&&r.length>0)return!0}return!1}))),kt(r),n.abrupt("return",r);case 7:case"end":return n.stop()}}))},yt=function(t){var e,r,n;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.url,i.next=3,a.a.awrap(k({method:"GET",url:"".concat(e,"/threads")}));case 3:return r=i.sent,n=r.value,i.abrupt("return",n.filter((function(t){var e=t.status;return!t.isDeleted&&"active"===e})));case 6:case"end":return i.stop()}}))},wt=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(yt(t));case 2:t.comments=e.sent;case 3:case"end":return e.stop()}}))};function bt(t){return(e=t,function(t){return xt(t,"pullRequestId")}(e).then((function(t){var r=t.value;return 0===r.length?function(t){return xt(t,"codeReviewId")}(e):r}))).then((function(e){var r,n={};if(e.length>0){var a=0;e.forEach((function(t){t.configuration.isEnabled&&t.configuration.isBlocking?"approved"===t.status&&!1!==n[t.configuration.type.displayName]?(a++,n[t.configuration.type.displayName]=!0):n[t.configuration.type.displayName]=!1:a++})),r=a===e.length?"success":0===a?"error":"warning"}else r="none";return t.evaluations={policies:n,state:r},Promise.resolve(t)}));var e}function xt(t,e){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=k,r.t1="",r.next=4,a.a.awrap(P());case 4:return r.t2=r.sent,r.t3=t.repository.project.id,r.t4=r.t1.concat.call(r.t1,r.t2,"/").concat(r.t3,"/_apis/policy/evaluations"),r.t5={artifactId:"vstfs:///CodeReview/CodeReviewId/"+t.repository.project.id+"/"+t[e],"api-version":"5.0-preview.1"},r.t6={method:"GET",url:r.t4,params:r.t5},r.abrupt("return",(0,r.t0)(r.t6));case 10:case"end":return r.stop()}}))}var St=function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=k,t.next=3,a.a.awrap(I());case 3:return t.t1=t.sent,t.t2=t.t1+"/git/pullRequests",t.t3={$top:250},t.t4={method:"GET",url:t.t2,params:t.t3},t.t5=function(t){return t.value},t.t6=function(t){return t.filter((function(t){var e=t.creationDate;return moment(e).isAfter(moment().subtract(3,"months"))}))},t.abrupt("return",(0,t.t0)(t.t4).then(t.t5).then(t.t6));case 10:case"end":return t.stop()}})).then((function(t){var e=[],r=[];return t.forEach((function(t){e.push(function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(k({method:"GET",url:t.url}));case 2:return e=r.sent,r.prev=3,r.next=6,a.a.awrap(bt(e));case 6:r.next=10;break;case 8:r.prev=8,r.t0=r.catch(3);case 10:return r.prev=10,r.next=13,a.a.awrap(wt(e));case 13:r.next=17;break;case 15:r.prev=15,r.t1=r.catch(10);case 17:return r.abrupt("return",e);case 18:case"end":return r.stop()}}),null,null,[[3,8],[10,15]])}(t).then((function(t){r.push(t)})))})),Promise.all(e).then((function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,a.a.awrap(gt(r));case 3:return t.t1=t.sent,t.next=6,a.a.awrap($t(r));case 6:return t.t2=t.sent,t.abrupt("return",{all:t.t0,toApprove:t.t1,mine:t.t2});case 8:case"end":return t.stop()}}))}))}))},Ot=function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.name){r.next=6;break}e={name:t.name,url:"https://dev.azure.com/".concat(t.name,"/_apis"),domainUrl:"https://dev.azure.com/".concat(t.name)},n=e,localStorage.setItem("domain",JSON.stringify(n)),dt.resolve("init ok"),r.next=7;break;case 6:return r.abrupt("return",Promise.reject("missing arguments"));case 7:case"end":return r.stop()}var n}))};function $t(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(C());case 2:if(!(e=r.sent)){r.next=5;break}return r.abrupt("return",t.filter((function(t){return t.createdBy.uniqueName===e.emailAddress})));case 5:return r.abrupt("return",[]);case 6:case"end":return r.stop()}}))}function kt(t){var e=t.length;e>0?(chrome.browserAction.setBadgeText({text:e.toString()}),chrome.browserAction.setBadgeBackgroundColor({color:"#FF9999"})):chrome.browserAction.setBadgeText({text:""})}var jt=function(){var t,e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=a.a,r.t1=k,r.next=4,a.a.awrap(I());case 4:return r.t2=r.sent,r.t3=r.t2+"/projects",r.t4={method:"GET",url:r.t3},r.t5=(0,r.t1)(r.t4),r.next=10,r.t0.awrap.call(r.t0,r.t5);case 10:return t=r.sent,e=t.value,r.abrupt("return",e);case 13:case"end":return r.stop()}}))};var It=function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=k,t.next=3,a.a.awrap(I());case 3:return t.t1=t.sent,t.t2=t.t1+"/git/repositories",t.t3={method:"GET",url:t.t2},t.t4=function(t){return t.value},t.abrupt("return",(0,t.t0)(t.t3).then(t.t4));case 8:case"end":return t.stop()}})).then((function(t){var e=[];return t.forEach((function(t){var r=k({method:"GET",url:t.url+"/suggestions"}).then((function(e){var r=e.value;return{repository:t,suggestion:r}}));e.push(r)})),Promise.all(e)})).then((function(t){return t.map((function(t){return Pt(t)}))})).then((function(t){var e,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(C());case 2:return e=n.sent,r=[],e&&t.filter((function(t){return t.suggestion.length>0})).forEach((function(t){t.suggestion.filter((function(t){return"pullRequest"===t.type})).forEach((function(n){var a=k({method:"GET",url:"".concat(t.repository.url,"/commits?branch=").concat(n.properties.sourceBranch.replace("refs/heads/",""),"&$top=1")}).then((function(r){var a=r.value,i=c()(a,1)[0];return i&&i.committer.email===e.emailAddress?Object.assign({remoteUrl:t.repository.remoteUrl,repositoryId:t.repository.id},n):null}));r.push(a)}))})),n.abrupt("return",Promise.all(r));case 6:case"end":return n.stop()}}))}))};var Pt=function(t){return t&&t.repository&&(t.repository.remoteUrl=t.repository.remoteUrl.replace(/(:\/\/)(.*)@dev.azure.com\//,"$1dev.azure.com/")),t};V.service("vstsService",(function t(){F()(this,t),o()(this,"$inject",[]),o()(this,"getPullRequests",St),o()(this,"setCredentials",Ot),o()(this,"getProjects",jt),o()(this,"isInitialize",vt),o()(this,"isLoginInitialize",mt),o()(this,"getSuggestionForUser",It),a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:j()?a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(jt());case 3:ht.resolve("init ok"),t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),ht.reject("login failed"),"login failed";case 10:case"end":return t.stop()}}),null,null,[[0,6]]).then((function(){dt.resolve("init ok")})):ht.reject("login missing");case 2:case"end":return t.stop()}}))})),r.d(e,"mainModule",(function(){return V}))},2:function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},3:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},4:function(t,e,r){var n=r(6),a=r(7),i=r(8);t.exports=function(t,e){return n(t)||a(t,e)||i()}},5:function(t,e,r){var n=r(9);t.exports=function(t,e){if(null==t)return{};var r,a,i=n(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}},6:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},7:function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){a=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}},8:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},9:function(t,e){t.exports=function(t,e){if(null==t)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}}});
//# sourceMappingURL=main.js.map